# ScanPrice üì±üí∞

–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Android –¥–ª—è –ø–æ–∏—Å–∫–∞, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ü–µ–Ω –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–≤, –≤–∫–ª—é—á–∞—è –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç.

![Android](https://img.shields.io/badge/Android-API%2024%2B-brightgreen)
![Kotlin](https://img.shields.io/badge/Kotlin-1.9-blue)
![Python](https://img.shields.io/badge/Python-3.12-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-0.121.1-009688)
![License](https://img.shields.io/badge/license-MIT-green)

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ](#–æ–ø–∏—Å–∞–Ω–∏–µ)
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

ScanPrice - —ç—Ç–æ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–∞—Ö–æ–¥–∏—Ç—å –ª—É—á—à–∏–µ —Ü–µ–Ω—ã –Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –≤–∫–ª—é—á–∞—è –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ü–µ–Ω.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîç **–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤** - –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç
- üí∞ **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ü–µ–Ω** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ü–µ–Ω –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–∞—Ö
- ‚≠ê **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- üìú **–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- üîî **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ü–µ–Ω–∞—Ö** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω –Ω–∞ —Ç–æ–≤–∞—Ä—ã
- üë§ **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–º
- üåô **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- üåç **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º REST API.

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph TB
    subgraph "Client Layer"
        A[Android App<br/>Kotlin]
    end
    
    subgraph "API Layer"
        B[FastAPI Server<br/>Python]
        C[JWT Authentication]
    end
    
    subgraph "Business Logic"
        D[Product Service]
        E[External Data Service]
        F[Yandex Market Parser]
        G[Yandex Market OAuth API]
    end
    
    subgraph "Data Layer"
        H[(MySQL<br/>Database)]
        I[(Redis<br/>Cache)]
    end
    
    subgraph "External Services"
        J[Yandex Market<br/>Web]
    end
    
    A -->|HTTP/HTTPS| B
    B --> C
    B --> D
    B --> E
    E --> F
    E --> G
    E --> I
    D --> H
    F --> J
    G --> J
    
    style A fill:#3DDC84
    style B fill:#009688
    style H fill:#4479A1
    style I fill:#DC382D
    style J fill:#FC3F1D
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞

```mermaid
graph LR
    subgraph "FastAPI Application"
        A[Main Router]
        B[Auth Routes]
        C[Product Routes]
        D[User Routes]
    end
    
    subgraph "Services"
        E[Product Service]
        F[Price Service]
        G[External Data Service]
    end
    
    subgraph "Data Providers"
        H[Database Repository]
        I[Yandex Parser]
        J[Yandex OAuth API]
    end
    
    subgraph "Infrastructure"
        K[SQLAlchemy ORM]
        L[Redis Client]
        M[JWT Manager]
    end
    
    A --> B
    A --> C
    A --> D
    C --> E
    C --> F
    C --> G
    E --> H
    F --> H
    G --> I
    G --> J
    H --> K
    G --> L
    B --> M
    
    style A fill:#009688
    style K fill:#4479A1
    style L fill:#DC382D
```

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### ER-–¥–∏–∞–≥—Ä–∞–º–º–∞

```mermaid
erDiagram
    User ||--o{ Favorite : has
    User ||--o{ ViewHistory : has
    User ||--o{ PriceAlert : has
    User ||--o{ ShoppingList : has
    User ||--o{ Comparison : has
    User ||--o{ Review : writes
    User ||--o{ PasswordResetToken : has
    User ||--o{ Subscription : has
    
    Product ||--o{ Listing : has
    Product ||--o{ ViewHistory : viewed_in
    Product ||--o{ PriceAlert : tracked_in
    Product ||--o{ ShoppingListItem : in
    Product ||--o{ ComparisonProduct : compared_in
    Product ||--o{ Review : reviewed_in
    
    Shop ||--o{ Listing : offers
    
    Listing ||--o{ Price : has
    
    ShoppingList ||--o{ ShoppingListItem : contains
    
    Comparison ||--o{ ComparisonProduct : contains
    
    User {
        int id_user PK
        string login UK
        string password
        string email UK
    }
    
    Product {
        int id_product PK
        string title
        string image
        decimal price
    }
    
    Shop {
        int id_shop PK
        string name
    }
    
    Listing {
        int id_listing PK
        int product_id FK
        int shop_id FK
        text url
    }
    
    Price {
        int id_price PK
        int listing_id FK
        decimal price
        timestamp scraped_at
    }
    
    Favorite {
        int id_favorite PK
        int user_id FK
        string title
        decimal price
        string shop
        string url_photo
        string url_site
        timestamp added_at
    }
    
    ViewHistory {
        int id_view PK
        int user_id FK
        int product_id FK
        timestamp viewed_at
    }
    
    PriceAlert {
        int id_alert PK
        int user_id FK
        int product_id FK
        decimal target_price
        int is_active
        timestamp created_at
    }
    
    ShoppingList {
        int id_list PK
        int user_id FK
        string name
        decimal budget
        timestamp created_at
    }
    
    ShoppingListItem {
        int id_item PK
        int list_id FK
        int product_id FK
        int quantity
        int is_purchased
        timestamp added_at
    }
    
    Comparison {
        int id_comparison PK
        int user_id FK
        string name
        timestamp created_at
    }
    
    ComparisonProduct {
        int id_comparison_product PK
        int comparison_id FK
        int product_id FK
        timestamp added_at
    }
    
    Review {
        int id_review PK
        int user_id FK
        int product_id FK
        int rating
        text comment
        timestamp created_at
        timestamp updated_at
    }
    
    PasswordResetToken {
        int id_token PK
        int user_id FK
        string token UK
        timestamp expires_at
        int used
        timestamp created_at
    }
    
    Subscription {
        int id_subscription PK
        int user_id FK
        int is_premium
        timestamp started_at
        timestamp expires_at
        timestamp created_at
    }
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **User** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- **PasswordResetToken** - —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
- **Subscription** - –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –¢–æ–≤–∞—Ä—ã –∏ –º–∞–≥–∞–∑–∏–Ω—ã
- **Product** - —Ç–æ–≤–∞—Ä—ã
- **Shop** - –º–∞–≥–∞–∑–∏–Ω—ã
- **Listing** - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö (—Å–≤—è–∑—å Product ‚Üî Shop)
- **Price** - –∏—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- **Favorite** - –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- **ViewHistory** - –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- **PriceAlert** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ü–µ–Ω–∞—Ö
- **ShoppingList** - —Å–ø–∏—Å–∫–∏ –ø–æ–∫—É–ø–æ–∫
- **ShoppingListItem** - —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–æ–≤ –ø–æ–∫—É–ø–æ–∫
- **Comparison** - —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
- **ComparisonProduct** - —Ç–æ–≤–∞—Ä—ã –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è—Ö
- **Review** - –æ—Ç–∑—ã–≤—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend (Android)

- **–Ø–∑—ã–∫**: Kotlin
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π SDK**: API 24 (Android 7.0)
- **–¶–µ–ª–µ–≤–æ–π SDK**: API 35
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: MVVM (Model-View-ViewModel)
- **–û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**:
  - Retrofit 2.9.0 - HTTP –∫–ª–∏–µ–Ω—Ç
  - Gson 2.10.1 - JSON –ø–∞—Ä—Å–∏–Ω–≥
  - Glide 4.16.0 - –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  - AndroidX Lifecycle - ViewModel, LiveData
  - Material Design Components

### Backend (Python)

- **–Ø–∑—ã–∫**: Python 3.12
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: FastAPI 0.121.1
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: MySQL
- **ORM**: SQLAlchemy 2.0.23
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis 5.0+
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (python-jose)
- **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π**: bcrypt 5.0.0
- **–ü–∞—Ä—Å–∏–Ω–≥**: 
  - BeautifulSoup4 4.13.5
  - lxml 4.9.0
  - Selenium 4.0+ (–¥–ª—è JavaScript-–∫–æ–Ω—Ç–µ–Ω—Ç–∞)

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.12+
- MySQL 5.7+
- Redis 5.0+ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- Android Studio Arctic Fox+ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Android)
- JDK 11+

### Backend

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd mobilki
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
cd python
pip install -r requirements.txt
```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. —Ä–∞–∑–¥–µ–ª [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è))

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
python main.py
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:8000`

### Frontend

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Android Studio

2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ Gradle –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑–æ–≤—ã–π URL API –≤ `RetrofitClient.kt`:
```kotlin
private const val BASE_URL = "http://your-server-ip:8000"
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ –∏–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `python/` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```env
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SECRET_KEY=your-secret-key-min-32-characters-long
DATABASE_URL=mysql://user:password@localhost:3306/database_name

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_ENABLED=true
CACHE_TTL=10800

# JWT –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç
USE_SELENIUM_FOR_PARSING=false
YANDEX_OAUTH_TOKEN=your-oauth-token
YANDEX_MARKET_CAMPAIGN_ID=your-campaign-id
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ OAuth —Ç–æ–∫–µ–Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å API –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª—É—á–∏—Ç—å OAuth —Ç–æ–∫–µ–Ω:

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ [Yandex OAuth](https://oauth.yandex.ru/)
2. –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. –û–±–º–µ–Ω—è–π—Ç–µ –∫–æ–¥ –Ω–∞ —Ç–æ–∫–µ–Ω (—Å–º. `python/get_oauth_token.py`)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: `python/HOW_TO_GET_AUTH_CODE.md`

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /add_user` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /forgot-password` - –ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- `POST /reset-password` - –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è

#### –¢–æ–≤–∞—Ä—ã
- `GET /products` - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (—Å –ø–æ–∏—Å–∫–æ–º)
- `GET /products/{id}` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ
- `GET /products/popular` - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

#### –ò–∑–±—Ä–∞–Ω–Ω–æ–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- `POST /favorites` - –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- `GET /favorites` - –°–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- `DELETE /favorites/{id}` - –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ

#### –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- `POST /user/view-history` - –î–æ–±–∞–≤–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
- `GET /user/view-history` - –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
- `DELETE /user/view-history` - –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é

#### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ü–µ–Ω–∞—Ö (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
- `POST /user/price-alerts` - –°–æ–∑–¥–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- `GET /user/price-alerts` - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `DELETE /user/price-alerts/{id}` - –£–¥–∞–ª–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mobilki/
‚îú‚îÄ‚îÄ app/                          # Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/com/example/test/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Main.kt              # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductDetailActivity.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProfileActivity.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FavoritesActivity.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Auth.kt              # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Registration.kt
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ res/                     # –†–µ—Å—É—Ä—Å—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ   ‚îî‚îÄ‚îÄ build.gradle.kts
‚îÇ
‚îú‚îÄ‚îÄ python/                        # Backend —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ main.py                    # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models.py                  # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py                 # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ database.py                # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ external_data_service.py   # –°–µ—Ä–≤–∏—Å –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ yandex_market_parser.py    # –ü–∞—Ä—Å–µ—Ä –Ø–Ω–¥–µ–∫—Å.–ú–∞—Ä–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ services/                  # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ repositories/              # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îú‚îÄ‚îÄ –¢–ó.md                          # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ README.md                      # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQLAlchemy:

```python
from database import engine
from models import Base

Base.metadata.create_all(bind=engine)
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ `python/migrations/`

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ DEBUG. –õ–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å —Ñ–æ—Ä–º–∞—Ç–æ–º:
```
%(asctime)s - %(name)s - %(levelname)s - %(message)s
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë• –ê–≤—Ç–æ—Ä—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ScanPrice

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FastAPI](https://fastapi.tiangolo.com/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Android](https://developer.android.com/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è SQLAlchemy](https://docs.sqlalchemy.org/)
- [Yandex Market Partner API](https://yandex.ru/dev/market/partner-api/doc/ru/)

---

**–í–µ—Ä—Å–∏—è API**: 0.10.4
