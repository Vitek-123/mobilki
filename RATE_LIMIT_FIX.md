# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã Rate Limit (429) Wildberries

## –ü—Ä–æ–±–ª–µ–º–∞

Wildberries API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É **429 Too Many Requests** –ø—Ä–∏ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö.

## –†–µ—à–µ–Ω–∏–µ

### 1. –î–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: **2 —Å–µ–∫—É–Ω–¥—ã** –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º

### 2. –£–ª—É—á—à–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ HTTP
–î–æ–±–∞–≤–ª–µ–Ω—ã –±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏, —á—Ç–æ–±—ã –∑–∞–ø—Ä–æ—Å—ã –≤—ã–≥–ª—è–¥–µ–ª–∏ –∫–∞–∫ –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞:
- `Referer`: https://www.wildberries.ru/
- `Origin`: https://www.wildberries.ru
- `Sec-Fetch-*` –∑–∞–≥–æ–ª–æ–≤–∫–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ `Accept` –∏ `Accept-Language`

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ 429 –æ—à–∏–±–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π (2, 4, 6 —Å–µ–∫—É–Ω–¥)
- –î–æ 3 –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫

### 4. –£–≤–µ–ª–∏—á–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è
- Timeout —É–≤–µ–ª–∏—á–µ–Ω –¥–æ 15 —Å–µ–∫—É–Ω–¥
- –ë–æ–ª–µ–µ —Ç–µ—Ä–ø–µ–ª–∏–≤–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –≤—Å–µ –µ—â–µ –ø–æ–ª—É—á–∞–µ—Ç–µ 429

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∏
–í `wildberries.py` –∏–∑–º–µ–Ω–∏—Ç–µ:
```python
self.min_request_interval = 3.0  # –í–º–µ—Å—Ç–æ 2.0
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏
–ï—Å–ª–∏ –≤–∞—à IP –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏:
```python
proxies = {
    'http': 'http://proxy:port',
    'https': 'http://proxy:port'
}
response = requests.get(url, proxies=proxies, ...)
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
–ï—Å–ª–∏ Wildberries –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç, –º–æ–∂–Ω–æ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–∞–≥–∞–∑–∏–Ω—ã (DNS, –ú.–í–∏–¥–µ–æ, –°–∏—Ç–∏–ª–∏–Ω–∫)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API Wildberries (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –∫—ç—à –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Redis
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `REDIS_ENABLED=true` –≤ `.env`
- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ 30 –º–∏–Ω—É—Ç

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —ç—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∑–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
2. **–ù–µ –¥–µ–ª–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ** - –º–∏–Ω–∏–º—É–º 2 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –ø–æ—è–≤–ª–µ–Ω–∏–µ–º 429 –æ—à–∏–±–æ–∫
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** - –Ω–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ Wildberries

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:
```bash
cd python
python test_wildberries_direct.py
```

–ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –ø–æ–ª—É—á–∞–µ—Ç–µ 429:
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç (–≤–æ–∑–º–æ–∂–Ω–æ, –≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏ –≤–∞—à IP
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å –¥—Ä—É–≥–æ–≥–æ IP/—Å–µ—Ç–∏
